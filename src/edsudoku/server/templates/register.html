{% extends 'layout.html' %}
{% block title %}Register a New User{% endblock %}
{% block body %}
    {%- if error %}
        <p class="error"><strong>Error:</strong> {{ error }}
    {%- endif %}
    <form action="{{ url_for('register_user') }}" method="post" class="form-horizontal">
        <div class="row">Please specify the new user information:</div>
        <div class="form-group">
            <label for="username" class="col-sm-2 control-label">Username</label>

            <div class="col-sm-10">
                <input type="text" name="username" id="username" placeholder="Username"/>
            </div>
        </div>
        <div class="form-group">
            <label for="password" class="col-sm-2 control-label">Password</label>

            <div class="col-sm-10">
                <input type="password" name="password" id="password" placeholder="Password"/>
            </div>
        </div>
        <div class="form-group">
            <label for="password2" class="col-sm-2 control-label">Password (again)</label>

            <div class="col-sm-10">
                <input type="password" name="password2" id="password2" placeholder="Password"/>
            </div>
        </div>
        <div class="form-group">
            <label for="display" class="col-sm-2 control-label">Display name</label>

            <div class="col-sm-10">
                <input type="text" name="display" id="display" placeholder="Display name"/>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label">Permissions</label>

            <div class="col-sm-10">
                {%- for permission in permissions %}
                    <div class="checkbox">
                        <label>
                            <input type="checkbox" name="{{ permission.name }}" value="{{ permission.flag }}"
                                    {%- if permission.is_default %} checked="checked" {% endif %} />
                            {{ permission.description }}
                        </label>
                    </div>
                {%- endfor %}
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <input type="submit" value="Register" class="btn btn-success">
                <a class="btn btn-danger" href="{{ url_for('main_page') }}">Cancel</a>
            </div>
        </div>
    </form>
{%- endblock %}
